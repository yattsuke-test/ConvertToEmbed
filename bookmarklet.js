javascript:var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
var youtubeEmbedTemplate=['<iframe width="560" height="315" src="https://www.youtube.com/embed/','" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'],nicoSourceTemplate=["https://embed.nicovideo.jp/watch/","?persistence=1&oldScript=1&referer=&from=0&allowProgrammaticFullScreen=1"];function getIdFromNicoURL(a,b){for(var c="",d=b;d<a.length&&"?"!=a[d];d++)c+=a[d];return c}
function createNicoIframeAndReplace(a,b){var c=document.createElement("iframe");c.setAttribute("allowfullscreen","allowfullscreen");c.setAttribute("allow","autoplay");c.setAttribute("frameborder","0");c.width=a.width.toString();c.height=a.height.toString();c.src=a.src;b.replaceWith(c);"none"===window.getComputedStyle(c).getPropertyValue("max-width")&&(c.style.maxWidth="100%");return c}
function programmaticFullScreen(a){function b(){if(!h){var e=window.innerWidth>=window.innerHeight,f=(e?window.innerWidth:window.innerHeight)+"px",k=(e?window.innerHeight:window.innerWidth)+"px";if(a.style.width!==f||a.style.height!==k)a.style.setProperty("width",f,"important"),a.style.setProperty("height",k,"important"),window.scrollTo(0,0);e!==l&&((l=e)?(a.style.setProperty("transform","none","important"),a.style.setProperty("-webkit-transform","none","important"),a.style.setProperty("left","0",
"important")):(a.style.setProperty("transform","rotate(90deg)","important"),a.style.setProperty("-webkit-transform","rotate(90deg)","important"),a.style.setProperty("left","100%","important")));m=setTimeout(c,200)}}function c(){window.requestAnimationFrame?window.requestAnimationFrame(b):b()}var d="width height top left position z-index max-width transform -webkit-transform transform-origin -webkit-transform-origin".split(" "),g=d.reduce(function(e,f){e[f]={value:a.style.getPropertyValue(f),priority:a.style.getPropertyPriority(f)};
return e},{}),m,h=!1,n=window.scrollX,p=window.scrollY,l=null;c();a.style.setProperty("top","0","important");a.style.setProperty("position","fixed","important");a.style.setProperty("z-index","2147483647","important");a.style.setProperty("max-width","none","important");a.style.setProperty("transform-origin","0% 0%","important");a.style.setProperty("-webkit-transform-origin","0% 0%","important");return function(){d.forEach(function(e){var f=g[e];a.style.removeProperty(e);a.style.setProperty(e,f.value,
f.priority)});clearTimeout(m);h=!0;window.scrollTo(n,p)}}function replaceByNicoIframe(a,b){var c=createNicoIframeAndReplace({width:560,height:315,src:nicoSourceTemplate[0]+a+nicoSourceTemplate[1]},b),d=null;window.addEventListener("message",function(g){g.source===c.contentWindow&&("enterProgrammaticFullScreen"===g.data.eventName?d||(d=programmaticFullScreen(c)):"exitProgrammaticFullScreen"===g.data.eventName&&(d&&d(),d=null))})}
function createElemFromStr(a){var b=document.createElement("div");b.innerHTML=a;return b.firstElementChild}function replaceByYoutubeIframe(a,b){var c=createElemFromStr(youtubeEmbedTemplate[0]+a+youtubeEmbedTemplate[1]);b.replaceWith(c)}
function convertToEmbed(a){var b=a.href;if(b.includes("nico.ms")||b.includes("nicovideo.jp")){var c=b.lastIndexOf("/")+1;b=getIdFromNicoURL(b,c);replaceByNicoIframe(b,a)}else if(b.includes("youtube.com/watch"))c=b.indexOf("v=")+2,b=b.substr(c,11),replaceByYoutubeIframe(b,a);else if(b.includes("youtu.be")||b.includes("y2u.be"))c=b.lastIndexOf("/")+1,b=b.substr(c,11),replaceByYoutubeIframe(b,a)}function main(){document.querySelectorAll("a").forEach(function(a){convertToEmbed(a)})}main();